# 2021牛客多校五

## AC：6/11

[2021牛客暑期多校训练营5](https://ac.nowcoder.com/acm/contest/11256#question)

排名75/1283

----

wa的有点多了但可能因为有被板子题搞到心态（...

已更新km板子

由于出题人在误解和不理解里面选择了不理解，题目描述非常的数学）.. 

---



B ：没排序直接做了，1发

J ：板子题，4发一直在换板子

D ：内存超了，longlong开不下，答案有取模，于是改int存的（

C：共4， 数组没开够，文件读入没删，

// 判答案跳的过程中处理后可以一次跳多个位置，刚开始一个个过去然后T了// 细节没处理好wa了发



---

## D - Double Strings

中间有个东西：（选取不相同的字符位置后分前后两段做，后一段：
$$
\sum C(x, i) \times C(y, i) =  \sum C(x, x - i) \times C(y, i) = C(x + y, x)
$$




## G - Greater Integer, Better LCM （卡常卡得要死

**题意:** 给出abc，要求满足$lcm(a + x, b + y) = c$ 的最小的$x+y$，c是通过$\prod_{i = 1}^{n} p_i^{q_i}$ 的形式给出的，

$1\leq n \leq 18,2 \leq p_i\leq 100, 1 \leq q_i \leq 18, a, b, c \leq 10^{32}, \sum q_i \leq 18$



暴力$O(3^n)$ (卡常) : 设$gcd(a + x, b + y ) = d, a + x = de, b+ y = df$.  

$d \times e \times f = c$ ，并且ef互质，枚举d，再对于每个质数分配，然后更新答案，非常暴力。

剪枝不够强大（

逆十字做法: 枚举 e和f，$O(2^n)$, 然后对于每个质数为一位，如果用完q[i]个标记为1，如果ef或起来全1表示lcm=c，处理至少取了某些质数的ef，更新答案。总复杂度$O(n \times 2 ^n)$

正解对暴力做法剪枝：折半搜索（



## F - Finding Points

转化为经过凸包每条边两个端点的圆的交（？，但可能会交在外面（这种情况有点没想明白



## I - Interval Queries

给一个序列和若干次询问，每次询问一个区间[l, r]， k， 要求区间内出现的最长连续的数列的长度，并要求每次向两边各扩展一个位置，扩展k次的区间内出现的最长连续数列的长度，

对于每个询问要求 $\sum_{i = 0}^{k - 1} f ({A_{l - i}, ... , A_{r + i}}) \times (n + i) ^i $ ,  $f(s) = max\{len|\exist x, \forall u \in \{x, x +1 , ... x +len -1\} \}$





可以将询问离线然后用莫队做，对于每个的k可以通过双向链表维护，
